{% extends "garden_base.html" %}
{% load i18n metrics_tags %}

{% block header_title %}{{ garden.name }}{% endblock %}

{% block body_class %}{{ block.super }} garden-detail-page{% endblock %}

{% block left %}

    <section>
        <h2>{% trans "Metrics Recorded at this Garden" %}</h2>

        {% for group, metrics in grouped_metrics.items %}
            <section class="metric-group">
                {% if group %}
                    <h3>{{ group }}</h3>
                {% endif %}
                {% for metric in metrics %}
                    {% count_records metric.name garden=garden year=year as count %}
                    {% if count > 0 %}
                        <section class="metric">
                            <h4>{{ metric.name }}</h4>
                            {% summarize metric.name garden=garden year=year %}
                            <div class="btn-group">
                                <a href="{% url metric.garden_detail_url_name pk=garden.pk %}" class="btn btn-default">
                                    {% trans "View Details" %}
                                </a>
                            </div>
                        </section>
                    {% endif %}
                {% endfor %}
            </section>
        {% endfor %}

    </section>

    <section>
        <h2>{% trans "Metrics Not Recorded at this Garden" %}</h2>

        {% for group, metrics in grouped_metrics.items %}
            <section class="metric-group">
                {% if group %}
                    <h3>{{ group }}</h3>
                {% endif %}
                {% for metric in metrics %}
                    {% count_records metric.name garden=garden year=year as count %}
                    {% if count == 0 %}
                        <section class="metric">
                            <h4>{{ metric.name }}</h4>
                            {% summarize metric.name garden=garden year=year %}
                            <div class="btn-group">
                                <a href="{% url metric.garden_detail_url_name pk=garden.pk %}" class="btn btn-default">
                                    {% trans "Record Now" %}
                                </a>
                            </div>
                        </section>
                    {% endif %}
                {% endfor %}
            </section>
        {% endfor %}
    </section>

{% endblock %}

{% block actions %}{% endblock %}
