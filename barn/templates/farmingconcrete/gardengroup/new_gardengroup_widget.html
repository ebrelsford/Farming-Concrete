{% load i18n %}

<select class="select2-basic-select" name="{{ name }}" multiple="multiple"{% if required %} required{% endif %}{% include "floppyforms/attrs.html" %}>
    {% for group_name, group_choices in optgroups %}
        {% if group_name %}
            <optgroup label="{{ group_name }}">
        {% endif %}

        {% for option in group_choices %}
            <option value="{{ option.0 }}"{% if option.0 in value %} selected="selected"{% endif %}>
                {{ option.1 }}
            </option>
        {% endfor %}
        
        {% if group_name %}
        </optgroup>
        {% endif %}
    {% endfor %}
</select>

<button type="button" data-toggle="modal" data-target="#new-gardengroup-modal" href="{% url "farmingconcrete_gardengroup_add" %}" class="btn-new-gardengroup btn btn-link">
    {% trans "+ new group" %}
</button>
