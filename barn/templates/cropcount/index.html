{% extends "metrics/map_base.html" %}
{% load static %}

{% block breadcrumbs %}
    <a href="{% url "home" %}">Home</a> &gt;&gt;
    {{ metric_name }}
{% endblock %}

{% block map_params %}
    {# TODO as data- attributes #}
    queryString: 'cropcount=yes&type={{ request.session.garden_type.short_name }}&year={{ request.session.year }}',
{% endblock %}

{% block content %}
    <h1>{{ request.session.garden_type.name|default:"all garden" }}s counted so far</h1>

    {{ block.super }}
{% endblock %}

{% block left %}
    <ul class="overview">
        <li><b>{{ gardens|default:'0' }}</b> garden{{ gardens|pluralize }}</li>
        <li class="even"><b>{{ beds|default:'0' }}</b> bed{{ beds|pluralize }}</li>
        <li><b>{{ area|default:'0'|floatformat }}</b> square feet</li>
        <li class="even"><b>{{ plants|default:'0' }}</b> plant{{ plants|pluralize }}</li>
        <li class="last">
            <span>most recent plant types:</span>
            <ul>
                {% for plant_type in recent_types %}
                <li>{{ plant_type }}</li>
                {% empty %}
                <li>None yet!</li>
                {% endfor %}
            </ul>
        </li>
    </ul>
{% endblock %}

{% block actions %}

    <h2>
        <a class="image" href="{% url "cropcount_user_gardens" year=request.session.year %}"><img src="{% static "img/round_arrow_right.png" %}" /></a>
        <a class="text" href="{% url "cropcount_user_gardens" year=request.session.year %}">View your gardens</a>
    </h2>

    <h2>
        <a class="image" href="{% url "cropcount_all_gardens" year=request.session.year %}"><img src="{% static "img/round_arrow_right.png" %}" /></a>
        <a class="text" href="{% url "cropcount_all_gardens" year=request.session.year %}">View all gardens</a>
    </h2>

{% endblock %}
