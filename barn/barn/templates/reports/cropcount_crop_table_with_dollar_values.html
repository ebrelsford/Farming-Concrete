<table class="sorted" repeat="1">
    <thead>
        <tr>
            <th align="center">Crop</th>
            <th align="center">Plants</th>
            <th align="center">Pounds</th>
            <th class="last_column" align="center">Dollar Value *</th>
        </tr>
    </thead>
    <tbody>
        {% for crop in crops|dictsort:"variety__name" %}
        <tr class="{% cycle 'odd' 'even' %}">
            <td>{{ crop.variety__name }}</td>
            <td class="number">
                {{ crop.plants:default:"(unknown)" }}
            </td>
            <td class="number">
                {% if crop.estimated_yield %}
                {{ crop.estimated_yield|floatformat }}
                {% else %}
                (unknown)
                {% endif %}
            </td>
            <td class="last_column number">
                {% if crop.estimated_value %}
                ${{ crop.estimated_value|floatformat:"0" }}
                {% else %}
                (unknown)
                {% endif %}
            </td>
        </tr>
        {% endfor %}
        <tr class="totals">
            <td>Total</td>
            <td class="number">{{ total_estimated_yield|floatformat }}</td>
            <td class="last_column number">${{ total_estimated_value|floatformat:"0" }}</td>
        </tr>
    </tbody>
</table>
