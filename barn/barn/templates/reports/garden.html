{% extends "base.html" %}

{% block title %}Report for {{ garden.name }}{% endblock %}

{% block head %}
{{ block.super }}    
<script src="{{ MEDIA_URL }}js/OpenLayers/OpenLayers.js" type="text/javascript"></script>
<script src="{{ MEDIA_URL }}js/cloudmade.js" type="text/javascript"></script>
<script src="{{ MEDIA_URL }}js/map.js" type="text/javascript"></script>
<script src="{{ MEDIA_URL }}jquery.tablesorter.min.js" type="text/javascript"></script>
<script type="text/javascript">
$(document).ready(function() {
    $('#map').gardenmap({
        type: 'single',
        id: {{ garden.id }},   
    });

    $('table.sorted').tablesorter({
        widgets: ['zebra',],       
    });

    $('.collapsible .expander').click(function() {
        $(this).parent().toggleClass('collapsed');
        return false;
    });
});
</script>
{% endblock %}

{% block content %}
<h1>{{ garden.name }}</h1>
<div>2011 Farming Concrete Report</div>

<div class="map-page report">
    <div id="left">
        {% if beds %}
        {% include "reports/cropcount.html" %}
        {% endif %}

        {% if harvests %}
        {% include "reports/harvestcount.html" %}
        {% endif %}

        <div id="other">
            TODO: compare with rest of the city?
            TODO: Estimated yield using crop count (if no harvest count?)
        </div>
    </div>

    <div id="right">
        <div id="map" style="width: 300px; height: 200px;"></div>
    </div>

    <div id="bottom" style="clear: both;"> </div>
</div>
{% endblock %}
